<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>[ì¿¨íƒ€ì´ë“œ MBTI] ì´ë¶ˆì´ ë‚˜ë³´ë‹¤ ì„±ê²©ì´ í™•ì‹¤í•˜ë„¤?</title>
  <link rel="stylesheet" href="style/page.css" />
  <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body.fade-out {
      opacity: 0;
      transition: opacity 0.4s ease;
    }
  </style>
</head>
<script>
  if (location.pathname === '/mbti_cool' || location.pathname === '/mbti_cool/') {
    window.location.replace('/mbti_cool/index.html');
  }
</script>
<body>
  <div id="start-screen" class="start-screen">
    <img src="//ecimg.cafe24img.com/pg283b14366217017/eleanorco/mbti/cooltide/assets/img/start_background.jpg" class="start-bg" alt="ì‹œì‘ ë°°ê²½" />
    <button class="start-btn" id="start-btn" type="button" aria-label="MBTI í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°">MBTI í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
  </div>

  <div class="container">

    <div class="progress-wrapper">
      <div class="back-button-wrap">
        <button class="back-button-small" id="back-button" type="button" aria-label="ì´ì „ ì§ˆë¬¸ìœ¼ë¡œ">
          <i class="fa-solid fa-chevron-left"></i>
        </button>
      </div>
      <div class="progress-bar-container">
        <div class="progress-bar">
          <div id="progress" class="progress"></div>
        </div>
        <div id="progress-count" class="progress-count">0/6</div>
      </div>
    </div>

    <div class="question-box" id="question-box"></div>
    <div class="options" id="options-box"></div>
  </div>

  <div class="logo">
    <img src="https://ecimg.cafe24img.com/pg283b14366217017/eleanorco/web/upload/category/editor/2024/03/25/05dc5d6b4907ecd12de9df665366c49e.png" alt="ë¡œê³ ">
  </div>

  <script>
    const questions = [
      {
        question: `Q1. 
        ì˜¤ëŠ˜ í•˜ë£¨ ë! 
        ì§‘ ë„ì°©í•˜ìë§ˆì ë‚´ê°€ í•˜ëŠ”í–‰ë™ì€?`,
        options: [
          { text: `ê°‘ê°‘í–ˆë˜ ì˜·ë“¤ê³¼ ì¹˜ë ì¹˜ë  ì•…ì„¸ì‚¬ë¦¬ì—ì„œ
            ì™€ë¥´ë¥´ í•´ë°©í•˜ê¸°`, types: ["EN", "IN"] },
          { text: `ë„·í”Œë¦­ìŠ¤ ì„¸íŒ…í•˜ê¸° 
            ì¹˜í‚¨ ëœ¯ê³  ğŸ— ë§¥ì£¼ í•œ ëª¨ê¸ˆğŸº`, types: ["ES"] },
          { text: `ê¼­ ë©”ì´í¬ì—… ì§€ìš°ê¸° ì „ ì‚¬ì§„ì´ ì˜ ë‚˜ì˜¤ë”ë¼? 
            ì…€ì¹´íƒ€ì„ğŸ“¸`, types: ["ES", "IS"] },
          { text: `ì˜¤ëŠ˜ë„ ê³ ìƒí•œ ë‚˜ ìì‹ , 
            ì¼ë‹¨ ì¹¨ëŒ€ì— ëˆ•ê³  ë‹¤ìŒì„ ìƒê°í•œë‹¤`, types: ["IS", "IN"] }
        ]
      },
      {
        question: `Q2. 
        ì—´ëŒ€ì•¼ ì†, ë‹¹ì‹ ì˜ ì´ë¶ˆ ì „ëµì€?`,
        options: [
          { text: `ëƒ‰ê°ì´ë¶ˆ í•˜ì²´ë§Œ ë®ê¸° ìŠ¤í‚¬`, types: ["ES", "IN"] },
          { text: `ë°°ë§Œ ë®ìœ¼ë©´
            ì•ˆì •ê° 100% ì ë‹¹í•œ ì‹œì›í•¨ ì™„ì„±`, types: ["IN", "ES"] },
          { text: `ë¹µë¹µí•œ ì—ì–´ì»¨ ë°”ë¡œ ë°‘,
            í¬ê·¼í•œ ì´ë¶ˆ ë®ëŠ” ìˆœê°„ ìˆ˜ë©´ëª¨ë“œON`, types: ["EN"] },
          { text: `ì´ë¶ˆì„ ë®ê¸°ë³´ë‹¨, 
            ëƒ‰ê° ì´ë¶ˆì„ ì˜¨ëª¸ìœ¼ë¡œ ê»´ì•ˆëŠ” ìˆœê°„
            ìˆ˜ë©´ ì¤€ë¹„ ì™„ë£Œâœ¨`, types: ["IS", "ES"] }
        ]
      },
      {
        question: `Q3. 
        ì—¬ë¦„ì— ì§€ì¹œ ë‚ ,
        ë‚˜ë§Œì˜ ìŠ¤íŠ¸ë ˆìŠ¤ í•´ì†Œë²•ì€?`,
        options: [
          { text: `í–¥ ì¢‹ì€ ìƒ¤ì›Œ í›„ í¬ê·¼í•œ ì´ë¶ˆì—ì„œ ë’¹êµ´ê¸°`, types: ["IN", "IS"] },
          { text: `ë¬¼ë†€ì´! ì—¬í–‰! ë°”ë‹·ë°”ëŒ!
            ì‹ ë‚˜ê²Œ ë›°ì–´ë†€ê¸°ë¶€í„° ì‹œì‘ğŸŒŠ`, types: ["EN"] },
          { text: `ëƒ‰ê°ì´ë¶ˆ ê¹”ê³  ëˆ„ì›Œì„œ, 
            'ì˜¤ëŠ˜ì€ ì•„ë¬´ê²ƒë„ ì•ˆí• ê±°ì•¼.' ì„ ì–¸í•˜ê¸°`, types: ["IS", "IN"] },
          { text: `ì´ë¶ˆ ë°–ì€ ìœ„í—˜í•´... 
            ë°©ì½•í•˜ë©´ì„œ ì˜¨ì¢…ì¼ ë¨¹ê³  ìê³  ìµœê³ !`, types: ["IS", "IN" , "ES"] }
        ]
      },
      {
        question: `Q4. 
        ë”ìœ„ vs ì „ê¸°ì„¸, ë‹¹ì‹ ì˜ ì„ íƒì€?`,
        options: [
          { text: `ì—ì–´ì»¨ ë¦¬ëª¨ê±´ì€ í•­ìƒ ë‚´ì†ì•ˆì—! 
            ë¯¸ì„¸ ì¡°ì •ê¹Œì§€ ì™„ë²½í•˜ê²Œ!`, types: ["EN"] },
          { text: `ì—ì–´ì»¨ì€ ì•„ì£¼ ì ê¹ ë‚®ì€ ì˜¨ë„ë¡œ ê°•í•˜ê²Œ!
            ê·¸ë¦¬ê³  OFF`, types: ["IS"] },
          { text: `ê°€ë§Œíˆ ìˆìœ¼ë©´ ë”ìœ„ëŠ” ê¸ˆë°© ì‚¬ë¼ì ¸.
            ì „ê¸°ì„¸ ì•„ê»´ì•¼ì§€`, types: ["ES"] },
          { text: `ì„ í’ê¸° ë°”ëŒìœ¼ë¡œë„ ì¶©ë¶„í•´`, types: ["IN"] }
        ]
      },
      {
        question: `Q5. 
        ì„¸íƒ ëë‚´ê³  ë½€ì†¡í•´ì§„ ì´ë¶ˆ,
        ë‹¤ì‹œ ê¹”ì•˜ì„ ë•Œ ë“œëŠ” ìƒê°ì€?`,
        options: [
          { text: `ìƒˆ ì´ë¶ˆì´ ëœ ê±° ê°™ì•„! 
            ë‚˜ë„ ë­ë¼ë„ ì‹œì‘í•´ì•¼ í•  ê²ƒ ê°™ì•„ (ì˜ìš•ğŸ”¥)`, types: ["EN"] },
          { text: `ë°”ë¡œ ì–¼êµ´ íŒŒë¬»ê¸°! 
            ê·¸ëŸ¬ë‹¤ ë½€ì†¡í•¨ì— ì·¨í•´ ìˆ™ë©´.. zzz `, types: ["IN", "IS", "ES"] },
          { text: `ì–´ì°¨í”¼ ë˜ ê¸ˆë°© ë”ëŸ¬ì›Œì§ˆ ê±´ë°.. 
            ê°í¥ 1ë„ ì—†ìŒ`, types: ["ES"] },
          { text: `ëˆ„ê°€ ë´ë„ ì˜¤ëŠ˜ ë°¤ ê¿€ì  ì˜ˆì•½ì´ë‹¤`, types: ["IS", "EN", "IN", "ES"] }
        ]
      },
      {
        question: `Q6. 
        ì¹¨ëŒ€ì— ëˆ„ìš´ ìˆœê°„,
        3ì´ˆ ì•ˆì— ìŠ¤ì¹˜ëŠ” ìƒê°ì€?`,
        options: [
          { text: `ì–´! ë¶ˆ ì•ˆ ê»ë„¤.. 
            ì•„! ì¶©ì „ê¸°ë„ ..`, types: ["IS", "IN"] },
          { text: `ì¹¨ëŒ€ì— ëˆ„ìš´ ìˆœê°„, 
            ì˜¨ê°– ê±±ì •ì´ ìŸì•„ì§€ëŠ” ì¤‘ `, types: ["IS"] },
          { text: `ì•„ì¹¨ê¹Œì§€ 1ì‹œê°„ 2ì‹œê°„ 3ì‹œê°„ ì•„...`, types: ["ES"] },
          { text: `ì—¬ê¸°ê°€ ë°”ë¡œ ì§€ìƒë‚™ì›ì¸ê°€ìš”?`, types: ["EN", "IS", "IN"] }
        ]
      }
    ];

  let current = 0;
  const score = { EN: 0, IN: 0, ES: 0, IS: 0 };
  const answers = [];

  function updateProgress() {
    const progress = document.getElementById("progress");
    const percent = (current / questions.length) * 100;
    progress.style.width = percent + "%";
  }

  function recalculateScore() {
    score.EN = score.IN = score.ES = score.IS = 0;
    answers.forEach(typeList => {
      typeList.forEach(type => {
        if (score.hasOwnProperty(type)) {
          score[type]++;
        }
      });
    });
  }

  window.onload = () => {
    document.getElementById('start-screen').classList.add('fade-in');
  };

  document.getElementById('start-btn').onclick = () => {
    const startScreen = document.getElementById('start-screen');
    const startBtn = document.getElementById('start-btn');
    startBtn.disabled = true;
    startScreen.classList.remove('fade-in');
    void startScreen.offsetWidth;
    startScreen.classList.add('fade-out');

    setTimeout(() => {
      startScreen.style.display = 'none';
      showQuestion();
    }, 400);
  };

  function showQuestion() {
    const q = questions[current];
    const questionBox = document.getElementById("question-box");
    const optionsBox = document.getElementById("options-box");
    const backBtn = document.getElementById("back-button");
    const backBtnWrap = document.querySelector(".back-button-wrap");

    questionBox.className = "question-box fade-in";
    optionsBox.className = "options fade-in";
    
    const lines = q.question.trim().split('\n');
    const questionNumber = lines[0].trim();
    const questionText = lines.slice(1).join('<br>').trim();

    questionBox.innerHTML = `
      <div class="question-number">${questionNumber}</div>
      <div class="question-text">${questionText}</div>
    `;

    optionsBox.innerHTML = "";

    q.options.forEach(opt => {
      const btn = document.createElement("button");
      btn.innerText = opt.text;
      btn.className = "option";
      btn.type = "button";
      btn.setAttribute("aria-label", opt.text);
      btn.onclick = () => {
        questionBox.classList.remove("fade-in");
        optionsBox.classList.remove("fade-in");
        questionBox.classList.add("fade-out");
        optionsBox.classList.add("fade-out");

        setTimeout(() => {
          if (Array.isArray(opt.types)) {
            answers[current] = opt.types;
            current++;
            recalculateScore();

            if (current < questions.length) {
              updateProgress();
              showQuestion();
            } else {
              goToResult();
            }
          } else {
            alert("íƒ€ì… ë°ì´í„°ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.");
          }
        }, 400);
      };
      optionsBox.appendChild(btn);
    });

    if (current > 0) {
      backBtnWrap.classList.add("show");
    } else {
      backBtnWrap.classList.remove("show");
    }

    updateProgress();
  }

  document.getElementById("back-button").onclick = () => {
    if (current > 0) {
      current--;
      answers.pop();
      recalculateScore();
      showQuestion();
    }
  };

  function goToResult() {
    document.body.classList.add('fade-out');
    setTimeout(() => {
      const sorted = Object.entries(score).sort((a, b) => b[1] - a[1]);
      const resultType = sorted[0][0];
      localStorage.setItem('mbti_result', resultType);
      window.location.href = `result_${resultType}.html`;
    }, 400);
  }

  function updateProgress() {
  const progress = document.getElementById("progress");
  const percent = (current / questions.length) * 100;
  progress.style.width = percent + "%";

  const progressCount = document.getElementById("progress-count");
  if (progressCount) {
    progressCount.textContent = `${current}/${questions.length}`;
  }
}
</script>

</body>
</html>